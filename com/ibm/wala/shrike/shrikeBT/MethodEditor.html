<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (24) -->
<title>MethodEditor (wala 1.6.10-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.ibm.wala.shrike.shrikeBT, class: MethodEditor">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.ibm.wala.shrike.shrikeBT</a></li>
<li><a href="MethodEditor.html" class="current-selection">MethodEditor</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(com.ibm.wala.shrike.shrikeBT.MethodData)" tabindex="0">MethodEditor(MethodData)</a></li>
<li><a href="#%3Cinit%3E(com.ibm.wala.shrike.shrikeBT.Instruction%5B%5D,com.ibm.wala.shrike.shrikeBT.ExceptionHandler%5B%5D%5B%5D,int%5B%5D)" tabindex="0">MethodEditor(Instruction[], ExceptionHandler[][], int[])</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getHandlers()" tabindex="0">getHandlers()</a></li>
<li><a href="#getInstructions()" tabindex="0">getInstructions()</a></li>
<li><a href="#getInstructionsToBytecodes()" tabindex="0">getInstructionsToBytecodes()</a></li>
<li><a href="#beginPass()" tabindex="0">beginPass()</a></li>
<li><a href="#endPass()" tabindex="0">endPass()</a></li>
<li><a href="#allocateLabel()" tabindex="0">allocateLabel()</a></li>
<li><a href="#insertAtStart(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">insertAtStart(MethodEditor.Patch)</a></li>
<li><a href="#insertBefore(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">insertBefore(int, MethodEditor.Patch)</a></li>
<li><a href="#insertAfter(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">insertAfter(int, MethodEditor.Patch)</a></li>
<li><a href="#replaceWith(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">replaceWith(int, MethodEditor.Patch)</a></li>
<li><a href="#addInstructionExceptionHandler(int,java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">addInstructionExceptionHandler(int, String, MethodEditor.Patch)</a></li>
<li><a href="#addMethodExceptionHandler(java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">addMethodExceptionHandler(String, MethodEditor.Patch)</a></li>
<li><a href="#insertAfterBody(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" tabindex="0">insertAfterBody(MethodEditor.Patch)</a></li>
<li><a href="#getData()" tabindex="0">getData()</a></li>
<li><a href="#applyPatches()" tabindex="0">applyPatches()</a></li>
<li><a href="#visitInstructions(com.ibm.wala.shrike.shrikeBT.MethodEditor.Visitor)" tabindex="0">visitInstructions(MethodEditor.Visitor)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class MethodEditor" class="title">Class MethodEditor</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.ibm.wala.shrike.shrikeBT.MethodEditor</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">MethodEditor</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The MethodEditor is the core of the ShrikeBT code rewriting mechanism. To rewrite code, construct
 a MethodEditor initialized with the intial code for the method. Then perform a series of passes.
 In each pass you call beginPass(), insert a number of patches using the insert...() or
 replace...() methods, then optionally call applyPatches() to update the code with your changes,
 then call endPass(). The end of each pass updates the code in the MethodData that you passed in,
 so the new code can be extracted from that MethodData object. Note that if applyPatches() is not
 called, or it is called but no patches had been inserted, then the code will not be updated and
 that pass is essentially aborted.

 <p>A patch is simply a subclass of MethodEditor.Patch, representing a code sequence to insert
 into the method. Each patch class implements one method, emitTo(), which writes the patch code
 into the code stream using the provided MethodEditor.Output instance. Anonymous inner classes are
 very useful for writing patches.

 <p>Patches can be inserted at the following points:

 <ul>
   <li>Before the start of the method
   <li>Before or after a particular instruction
   <li>Replacing a particular instruction
   <li>Handling an exception on a particular instruction
   <li>Handling an exception anywhere in the method
   <li>After the end of the method, where code will not normally be executed, but can be branched
       to by another patch
 </ul>

 Patch application is deterministic; if two patches are applied at the same point, then the order
 of application determines the order of code generation, in a way specified by the particular
 application point. See the patch application methods below.

 <p>MethodEditor relies on labels. A label is an integer representing a point in the code. Labels
 are valid only during a single pass; at the end of each pass, instructions are reordered and old
 labels become invalid. At the beginning of a pass every instruction in the instructions array is
 labelled with the index of that instruction in the array. During instrumentation new labels can
 be allocated by calling MethodEditor.allocateLabel(); control instructions can be created
 referring to these new labels or the existing labels. At the end of a pass, as patch code is
 spliced into the method body, all instructions are updated to refer to the new labels which are
 simply the indices of instructions in the instruction array.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MethodEditor.Output.html" class="type-name-link" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Output</a></code></div>
<div class="col-last even-row-color">
<div class="block">Output is the interface that patches use to emit their code into a method body.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MethodEditor.Patch.html" class="type-name-link" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a></code></div>
<div class="col-last odd-row-color">
<div class="block">This class is subclassed for each kind of patch that you want to apply.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MethodEditor.Visitor.html" class="type-name-link" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Visitor</a></code></div>
<div class="col-last even-row-color">
<div class="block">A specialized Instruction.Visitor providing convenience methods for inserting patches.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.ibm.wala.shrike.shrikeBT.Instruction%5B%5D,com.ibm.wala.shrike.shrikeBT.ExceptionHandler%5B%5D%5B%5D,int%5B%5D)" class="member-name-link">MethodEditor</a><wbr>(<a href="Instruction.html" title="class in com.ibm.wala.shrike.shrikeBT">Instruction</a>[]&nbsp;instructions,
 <a href="ExceptionHandler.html" title="class in com.ibm.wala.shrike.shrikeBT">ExceptionHandler</a>[][]&nbsp;handlers,
 int[]&nbsp;instructionsToBytecodes)</code></div>
<div class="col-last even-row-color">
<div class="block">Build an editor for specific method data.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.ibm.wala.shrike.shrikeBT.MethodData)" class="member-name-link">MethodEditor</a><wbr>(<a href="MethodData.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodData</a>&nbsp;info)</code></div>
<div class="col-last odd-row-color">
<div class="block">Build an editor for the given method.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addInstructionExceptionHandler(int,java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">addInstructionExceptionHandler</a><wbr>(int&nbsp;i,
 <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;catchClass,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">An "instruction exception handler" handles exceptions generated by a specific instruction
 (including patch code that may be inserted before, after, or instead of the instruction in this
 pass).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addMethodExceptionHandler(java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">addMethodExceptionHandler</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;catchClass,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A "method exception handler" handles exceptions generated anywhere in the method.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#allocateLabel()" class="member-name-link">allocateLabel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Allocate a fresh label.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#applyPatches()" class="member-name-link">applyPatches</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method finishes a pass.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#beginPass()" class="member-name-link">beginPass</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This must be called before inserting any patches.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endPass()" class="member-name-link">endPass</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This must be called after inserting any patches.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MethodData.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodData</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getData()" class="member-name-link">getData</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ExceptionHandler.html" title="class in com.ibm.wala.shrike.shrikeBT">ExceptionHandler</a>[][]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getHandlers()" class="member-name-link">getHandlers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="IInstruction.html" title="interface in com.ibm.wala.shrike.shrikeBT">IInstruction</a>[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstructions()" class="member-name-link">getInstructions</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstructionsToBytecodes()" class="member-name-link">getInstructionsToBytecodes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertAfter(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">insertAfter</a><wbr>(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Insert code to be executed after the instruction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertAfterBody(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">insertAfterBody</a><wbr>(<a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method inserts code that will be placed after the method body.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertAtStart(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">insertAtStart</a><wbr>(<a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Insert code to be executed whenever the method is entered.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertBefore(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">insertBefore</a><wbr>(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Insert code to be executed before the instruction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replaceWith(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)" class="member-name-link">replaceWith</a><wbr>(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Insert code to replace the instruction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#visitInstructions(com.ibm.wala.shrike.shrikeBT.MethodEditor.Visitor)" class="member-name-link">visitInstructions</a><wbr>(<a href="MethodEditor.Visitor.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Visitor</a>&nbsp;v)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Apply Visitor v to each instruction in the code, for the purpose of patching the code.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.ibm.wala.shrike.shrikeBT.MethodData)">
<h3>MethodEditor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MethodEditor</span><wbr><span class="parameters">(<a href="MethodData.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodData</a>&nbsp;info)</span></div>
<div class="block">Build an editor for the given method. This editor will write back its changes to the method
 info.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if info is null</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.ibm.wala.shrike.shrikeBT.Instruction[],com.ibm.wala.shrike.shrikeBT.ExceptionHandler[][],int[])">
<h3>MethodEditor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MethodEditor</span><wbr><span class="parameters">(<a href="Instruction.html" title="class in com.ibm.wala.shrike.shrikeBT">Instruction</a>[]&nbsp;instructions,
 <a href="ExceptionHandler.html" title="class in com.ibm.wala.shrike.shrikeBT">ExceptionHandler</a>[][]&nbsp;handlers,
 int[]&nbsp;instructionsToBytecodes)</span></div>
<div class="block">Build an editor for specific method data. After patching the code you can retrieve the new
 code, handlers and instructions-to-bytecode-offsets map.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getHandlers()">
<h3>getHandlers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ExceptionHandler.html" title="class in com.ibm.wala.shrike.shrikeBT">ExceptionHandler</a>[][]</span>&nbsp;<span class="element-name">getHandlers</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current handler array</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getInstructions()">
<h3>getInstructions</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="IInstruction.html" title="interface in com.ibm.wala.shrike.shrikeBT">IInstruction</a>[]</span>&nbsp;<span class="element-name">getInstructions</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current instruction array</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getInstructionsToBytecodes()">
<h3>getInstructionsToBytecodes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">getInstructionsToBytecodes</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current instructions-to-bytecode-offsets map</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="beginPass()">
<h3>beginPass</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">beginPass</span>()</div>
<div class="block">This must be called before inserting any patches.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="endPass()">
<h3>endPass</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endPass</span>()</div>
<div class="block">This must be called after inserting any patches.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="allocateLabel()">
<h3>allocateLabel</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">allocateLabel</span>()
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Allocate a fresh label. This must be called during a pass and not during code emission.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="insertAtStart(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>insertAtStart</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertAtStart</span><wbr><span class="parameters">(<a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">Insert code to be executed whenever the method is entered. This code is not protected by any
 exception handlers (other than handlers declared in the patch).

 <p>When multiple 'start' patches are given, the last one added is first in execution order.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if p is null</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="insertBefore(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>insertBefore</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertBefore</span><wbr><span class="parameters">(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">Insert code to be executed before the instruction. Branches to the instruction will branch to
 this code. Exception handlers that cover the instruction will be extended to cover the patch.

 <p>When multiple 'before' patches are given, the last one added is first in execution order.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if p is null</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="insertAfter(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>insertAfter</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertAfter</span><wbr><span class="parameters">(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">Insert code to be executed after the instruction. This code will only execute if the
 instruction "falls through". For example, code inserted after a "goto" will never be executed.
 Likewise if the instruction throws an execution the 'after' code will not be executed.
 Exception handlers that cover the instruction will be extended to cover the patch.

 <p>When multiple 'after' patches are given, the last one added is LAST in execution order.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="replaceWith(int,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>replaceWith</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replaceWith</span><wbr><span class="parameters">(int&nbsp;i,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></span></div>
<div class="block">Insert code to replace the instruction. Exception handlers that cover the instruction will
 cover the patch.

 <p>Multiple replacements are not allowed.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - if p is null</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if p is null</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="addInstructionExceptionHandler(int,java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>addInstructionExceptionHandler</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addInstructionExceptionHandler</span><wbr><span class="parameters">(int&nbsp;i,
 <a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;catchClass,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">An "instruction exception handler" handles exceptions generated by a specific instruction
 (including patch code that may be inserted before, after, or instead of the instruction in this
 pass). If the patch code falls through, control resumes with the next instruction. This
 exception handler handles exceptions before any exception handler already attached to the
 instruction. Furthermore, the patch itself is covered by the exception handlers already
 attached to the instruction.

 <p>If multiple instruction exception handlers are given, then the last one added handles the
 exception first; if an exception is rethrown, then the next-to-last one added handles that
 exception, etc.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="addMethodExceptionHandler(java.lang.String,com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>addMethodExceptionHandler</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addMethodExceptionHandler</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;catchClass,
 <a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">A "method exception handler" handles exceptions generated anywhere in the method. The patch
 code must not fall through; it must return or throw an exception.

 <p>If multiple method exception handlers are given, then the last one added handles the
 exception first; if an exception is rethrown, then the next-to-last one added handles that
 exception, etc.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="insertAfterBody(com.ibm.wala.shrike.shrikeBT.MethodEditor.Patch)">
<h3>insertAfterBody</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertAfterBody</span><wbr><span class="parameters">(<a href="MethodEditor.Patch.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Patch</a>&nbsp;p)</span></div>
<div class="block">This method inserts code that will be placed after the method body. This code will not be
 executed normally, but it can emit label definitions that other patches can branch to. No
 exception handlers cover this code (other than exception handlers emitted by patch p itself).</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if p is null</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getData()">
<h3>getData</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MethodData.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodData</a></span>&nbsp;<span class="element-name">getData</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the MethodData used to create this editor, or null if no MethodData is linked to this
     editor</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="applyPatches()">
<h3>applyPatches</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">applyPatches</span>()
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">This method finishes a pass. All code is updated; instructions are reordered and old labels may
 not be valid.

 <p>If no patches were issued, we don't need to do anything at all; this case is detected
 quickly and no updates are made.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true iff non-trivial patches were applied</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="visitInstructions(com.ibm.wala.shrike.shrikeBT.MethodEditor.Visitor)">
<h3>visitInstructions</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">visitInstructions</span><wbr><span class="parameters">(<a href="MethodEditor.Visitor.html" title="class in com.ibm.wala.shrike.shrikeBT">MethodEditor.Visitor</a>&nbsp;v)</span></div>
<div class="block">Apply Visitor v to each instruction in the code, for the purpose of patching the code.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
